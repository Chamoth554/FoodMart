!function(e,s){if("object"==typeof exports&&"object"==typeof module)module.exports=s();else if("function"==typeof define&&define.amd)define([],s);else{var r=s();for(var t in r)("object"==typeof exports?exports:e)[t]=r[t]}}(Depicter,(()=>(()=>{const{Layer:e,env:s}=window.Depicter;return window.Depicter.externalLayers["form:message"]=class extends e{constructor(e,r,t,o,i,a){super(e,r,t,o,i,a),this.type="form:message",this.frame.classList.add(`${s.prefix}-form-message-layer`)}_setupContent(){const e=this.element.closest("form");this.holder.composer.layersById[e.id]&&(this.formLayer=this.holder.composer.layersById[e.id]),this.formLayer?this.formLayer.on("formSubmitted, formSubmitError",this._onFormSubmit.bind(this)):this.holder.composer.on("formSubmitted, formSubmitError",this._onFormSubmit.bind(this)),this.successMessage=this.element.querySelector(`.${s.prefix}-message-success`),this.errorMessage=this.element.querySelector(`.${s.prefix}-message-error`),this._hideMessages()}_hideMessages(){this.successMessage&&(this.successMessage.style.display="none"),this.errorMessage&&(this.errorMessage.style.display="none")}_onFormSubmit(e){this._hideMessages(),"formSubmitted"===e?this.successMessage&&(this.successMessage.style.display="block"):this.errorMessage&&(this.errorMessage.style.display="block")}},{}})()));